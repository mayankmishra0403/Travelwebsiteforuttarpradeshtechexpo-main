/* Floating toggle button */
.chatbot-toggle-btn {
  position: fixed;
  bottom: 24px;
  right: 24px;
  width: 56px;
  height: 56px;
  border-radius: 50%;
  background: linear-gradient(135deg, #6d28d9, #9333ea);
  color: white;
  border: none;
  box-shadow: 0 10px 25px rgba(109, 40, 217, 0.35);
  cursor: pointer;
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 24px;
  z-index: 1000;
  transition: transform 0.15s ease, box-shadow 0.2s ease;
}
.chatbot-toggle-btn:hover { transform: translateY(-2px); box-shadow: 0 14px 30px rgba(109, 40, 217, 0.45); }
.chatbot-toggle-btn.active { background: linear-gradient(135deg, #7c3aed, #a855f7); }
.chatbot-icon { filter: drop-shadow(0 2px 6px rgba(0,0,0,0.25)); }

/* Widget container */
.chatbot-widget {
  position: fixed;
  bottom: 96px;
  right: 24px;
  width: 360px;
  max-width: calc(100vw - 32px);
  background: #0b0b12;
  border: 1px solid rgba(255,255,255,0.08);
  border-radius: 16px;
  box-shadow: 0 20px 50px rgba(0,0,0,0.5);
  overflow: hidden;
  z-index: 1000;
}

.chatbot-header {
  position: relative;
  padding: 14px 16px 12px 16px;
  background: linear-gradient(135deg, rgba(124,58,237,0.25), rgba(168,85,247,0.15));
  border-bottom: 1px solid rgba(255,255,255,0.08);
}
.chatbot-header h3 { margin: 0; color: #fff; font-size: 16px; font-weight: 700; }
.chatbot-header p { margin: 4px 0 0; color: #bdb6d8; font-size: 12px; }
.chatbot-stats { position: absolute; left: 16px; top: 12px; font-size: 11px; color: #d1c4ff; opacity: 0.9; }
.chatbot-close { position: absolute; right: 10px; top: 6px; background: transparent; color: #e5dfff; border: none; font-size: 22px; cursor: pointer; }

.chatbot-messages {
  height: 320px;
  padding: 12px;
  background: radial-gradient(1200px 480px at 20% 0%, rgba(124,58,237,0.08), transparent 60%), #0b0b12;
  overflow-y: auto;
}

.chatbot-message { display: flex; margin: 10px 0; }
.chatbot-message.user { justify-content: flex-end; }
.chatbot-message.bot { justify-content: flex-start; }

.chatbot-message-content {
  max-width: 75%;
  padding: 10px 12px;
  border-radius: 12px;
  font-size: 14px;
  line-height: 1.45;
  color: #f3f1ff;
  background: rgba(255,255,255,0.06);
  border: 1px solid rgba(255,255,255,0.06);
}
.chatbot-message.user .chatbot-message-content { background: rgba(124,58,237,0.22); border-color: rgba(124,58,237,0.35); }
.chatbot-message.bot .chatbot-message-content { background: rgba(255,255,255,0.06); }

.chatbot-knowledge-badge { display: inline-block; margin-left: 8px; font-size: 10px; color: #c4f2d0; background: rgba(16,185,129,0.25); padding: 2px 6px; border-radius: 8px; }
.chatbot-error-msg .chatbot-message-content { background: rgba(239,68,68,0.12); border-color: rgba(239,68,68,0.35); }

.chatbot-input-container { padding: 10px; background: rgba(255,255,255,0.03); border-top: 1px solid rgba(255,255,255,0.06); }
.chatbot-input-row { display: flex; gap: 8px; }
.chatbot-input { flex: 1; padding: 10px 12px; border-radius: 10px; border: 1px solid rgba(255,255,255,0.08); background: #0f0f17; color: #fff; }
.chatbot-send-btn { padding: 10px 14px; border-radius: 10px; border: none; background: linear-gradient(135deg, #6d28d9, #9333ea); color: #fff; cursor: pointer; }

/* Loading dots animation */
.chatbot-loading .chatbot-message-content .loading-dots::after {
  display: inline-block;
  content: ' ';
  width: 1em;
  text-align: left;
  animation: dots 1.4s steps(4, end) infinite;
}
@keyframes dots { 0%, 20% { content: ' '; } 40% { content: '.'; } 60% { content: '..'; } 80%, 100% { content: '...'; } }

@media (max-width: 480px) {
  .chatbot-widget { right: 12px; left: 12px; width: auto; }
  .chatbot-toggle-btn { bottom: 16px; right: 16px; }
}
